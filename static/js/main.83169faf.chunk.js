(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,a){},14:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(2),i=a.n(r),s=a(3),c=a(4),o=a(6),u=a(5),m=a(7);a(13);function v(){return l.a.createElement("div",{className:"header"},l.a.createElement("h1",{className:"header-title"},"GIOCO DEL 15"),l.a.createElement("h3",{className:"header-subtitle"},"Progetto dimostrativo per la libreria React"))}var h=function(e){function t(e){var a;Object(s.a)(this,t);var n=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,null];return(a=Object(o.a)(this,Object(u.a)(t).call(this,e))).state={oldTiles:n,currentTiles:n,free:15,moves:0,time:0},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentWillUnmount",value:function(){clearInterval(this.timer)}},{key:"startTimer",value:function(){var e=this;clearInterval(this.timer),this.timer=setInterval(function(){return e.updateTime()},1e3)}},{key:"stopTimer",value:function(){clearInterval(this.timer)}},{key:"updateTime",value:function(){var e=this.state.time;this.setState({time:e+1})}},{key:"handleTileClick",value:function(e){var t=this.state.currentTiles.slice(),a=this.state.moves;if(!b(t)){var n=this.state.free;1!==Math.abs(e-n)&&4!==Math.abs(e-n)||(t[n]=t[e],t[e]=null,this.setState({currentTiles:t,free:e,moves:a+1}))}}},{key:"handleNewGameClick",value:function(){var e=function(){var e,t,a,n=[1,2,3,4,5,6,7,8,9,10,11,12,13,14,15];for(e=n.length-1;e>0;e--)t=Math.floor(Math.random()*(e+1)),a=n[e],n[e]=n[t],n[t]=a;(function(e){for(var t=0,a=0;a<e.length;a++)for(var n=a+1;n<e.length;n++)e[a]>e[n]&&t++;return t})(n)%2!==1&&(a=n[0],n[0]=n[1],n[1]=a);return[null].concat(n)}();this.startTimer(),this.setState({oldTiles:e,currentTiles:e,free:0,moves:0,time:0})}},{key:"handleRestartGameClick",value:function(){var e=this.state.oldTiles;this.startTimer(),this.setState({currentTiles:e,free:0,moves:0,time:0})}},{key:"render",value:function(){var e,t=this,a=this.state.currentTiles,n=this.state.moves,r=this.state.time;b(a)?(e=0===n?"idle":"victory",this.stopTimer()):e="ingame";return l.a.createElement("div",{className:"game"},l.a.createElement(f,{status:e,time:r,moves:n}),l.a.createElement(d,{tiles:a,onClickTile:function(e){return t.handleTileClick(e)}}),l.a.createElement(E,{status:e,onClickNewGame:function(){return t.handleNewGameClick()},onClickRestartGame:function(){return t.handleRestartGameClick()}}))}}]),t}(l.a.Component);function f(e){var t,a,n=Math.floor(e.time/60)+" m "+e.time%60+" s";switch(e.status){default:case"idle":t="\ud83d\ude42 Riordina le tessere dello schema da 1 a 15.",a=l.a.createElement("span",null,"Premi il bottone in basso e inizia una nuova partita.");break;case"ingame":t="\ud83e\udd14 Sposta le tessere facendo click / tap su di esse.",a=l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Tempo: ",n),l.a.createElement("span",null,"Mosse: ",e.moves));break;case"victory":t="\ud83d\ude04 Congratulazioni, ci sei riuscito!",a=l.a.createElement(l.a.Fragment,null,l.a.createElement("span",null,"Tempo: ",n),l.a.createElement("span",null,"Mosse: ",e.moves))}return l.a.createElement("div",{className:"info"},l.a.createElement("div",{className:"info-message"},t),l.a.createElement("div",{className:"info-stats"},a))}function d(e){for(var t=e.tiles,a=e.onClickTile,n=[],r=0;r<4;r++){for(var i=[],s=function(e){var n=4*r+e;i.push(l.a.createElement(k,{key:n,value:t[n],onClick:function(){return a(n)}}))},c=0;c<4;c++)s(c);n.push(l.a.createElement("div",{key:r,className:"board-row"},i))}return l.a.createElement("div",{className:"board"},n)}function k(e){var t="",a="";if(null===e.value)t="hidden";else{var n=e.value-1;a=Math.trunc(n/4)%2===1?e.value%2===1?"tile-odd":"":e.value%2===1?"":"tile-odd"}var r="tile "+a+" "+t;return l.a.createElement("button",{className:r,onClick:e.onClick},e.value)}function E(e){var t=e.onClickNewGame,a=e.onClickRestartGame,n=l.a.createElement(l.a.Fragment,null,l.a.createElement(p,{label:"Nuova partita",onClick:t}),"idle"!==e.status?l.a.createElement(p,{label:"Ricomincia partita",onClick:a}):null);return l.a.createElement("div",{className:"menu"},n)}function p(e){return l.a.createElement("button",{className:"menu-button",onClick:e.onClick},e.label)}function b(e){for(var t=!0,a=0;a<15;a++)e[a]!==a+1&&(t=!1);return t}var C=document.getElementById("root");i.a.render(l.a.createElement(function(){return l.a.createElement("div",{className:"App"},l.a.createElement(v,null),l.a.createElement(h,null))},null),C)},8:function(e,t,a){e.exports=a(14)}},[[8,1,2]]]);
//# sourceMappingURL=main.83169faf.chunk.js.map